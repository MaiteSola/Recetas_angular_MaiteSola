<form (submit)="$event.preventDefault()"> <h4 class="mb-3 text-primary">Nueva Receta</h4>

  <div class="mb-3">
    <label class="form-label fw-bold">Nombre:</label>
    <input
      type="text"
      class="form-control"
      [(ngModel)]="nombre"
      name="nombre"
      placeholder="Ej: Macarrones con tomate"
      required
    />
  </div>

  <div class="mb-3">
    <label class="form-label fw-bold">Ingredientes:</label>
    
    <div class="input-group mb-2">
      <input
        type="text"
        class="form-control"
        [(ngModel)]="nuevoIngrediente"
        name="nuevoIngrediente"
        (keydown.enter)="addIngrediente(); $event.preventDefault()" 
        placeholder="Escribe y pulsa Enter o +"
      />
      <button 
        class="btn btn-outline-secondary" 
        type="button" 
        (click)="addIngrediente()">
        +
      </button>
    </div>

    <ul class="list-group">
      @for (ing of ingredientes; track $index) {
        <li class="list-group-item d-flex justify-content-between align-items-center">
          {{ ing }}
          <button 
            type="button" 
            class="btn btn-sm btn-danger py-0" 
            (click)="removeIngrediente($index)">
            ×
          </button>
        </li>
      }
      @if (ingredientes.length === 0) {
        <li class="list-group-item text-muted fst-italic small">
          No hay ingredientes aún...
        </li>
      }
    </ul>
  </div>

  <div class="mb-3">
    <label class="form-label fw-bold">Imagen (URL):</label>
    <input
      type="text"
      class="form-control"
      [(ngModel)]="imagen"
      name="imagen"
      placeholder="https://..."
    />
  </div>

  <div class="d-flex justify-content-end gap-2 mt-4">
    <button type="button" class="btn btn-secondary" (click)="cancelar()">
      Cancelar
    </button>
    
    <button 
      type="button" 
      class="btn btn-primary" 
      (click)="guardar()"
      [disabled]="!nombre"> Guardar
    </button>
  </div>

</form>